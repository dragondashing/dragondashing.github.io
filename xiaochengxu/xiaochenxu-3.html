<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width"> 
    <title>小程序案例-3</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="shortcut icon" href="../images/dragon.ico" type="image/x-icon">
</head>
<body>
    <!-- 页眉 -->
    <div class="header">
        <h1 class="header" style="color: aquamarine;">龙帅的个人博客</h1>
    </div>
    <!-- 侧边栏左 -->
    <div class="left-top" id="WaitLst-left">
        <nav>
            <h2>分类</h2>
            <ul class="fenlei">
                <li class="fenlei"><a href="../index.html" class="fenlei">首页</a></li>
                <li class="fenlei"><a href="../html/html.html" class="fenlei">前端入门基础</a></li>
                <li class="fenlei"><a href="../xiaochengxu/index.html" class="fenlei">小程序案例</a></li>
                <li class="fenlei"><a href="../vue/vue.html" class="fenlei">VUE框架</a></li>
            </ul>
        </nav>
    </div>
   
    <!-- 侧边栏右 -->
    <div class="right" id="WaitLst-right">
        <nav>
            <!-- <div class="search">
                <input type="text" class="searchTerm" placeholder="你想找什么?">
                <button type="submit" class="searchButton">
                  <i class="fa fa-search"><img src="images/搜索.png" alt="搜索"></i>
                </button>
            </div> -->
            <div class="mulu">
                <h3>目录</h3>
                <h2>前端入门基础</h2>
                <ul>
                    <li>我的第一个页面</li>
                    <li>头部（属性、元素）</li>
                    <li>html文本处理基础</li>
                    <li>超链接的应用</li>
                    <li>文本格式进阶</li>
                    <li>网站架构</li>
                    <li>标记信件</li>
                    <li>多媒体与嵌入</li>
                    <li>音频与视频</li>
                </ul>
                <h2>小程序案例</h2>
                <ul>
                    <li>本地生活-1</li>
                    <li>本地生活-2</li>
                    <li>本地生活-3</li>
                </ul>
                <h2>VUE框架</h2>
                <ul>

                </ul>
            </div>
        </nav>
    </div>
    <!-- 中间部分 -->
    <div class="middle">
        <article>
            <h4>小程序案例</h4>
            <header style="font-size: 50px;">本地生活-3</header>
            <div class="head">
                <p>借助黑马的本地生活案例，加强一下自己对小程序的学习，并将学习过程分享出来，希望能和以前学习的知识相互印证</p>
                <ol>
                    <li>
                        实现九宫格的导航跳转
                        <p>在配置好九宫格后，我们还需要让其实现跳转到相应页面的功能</p>
                        <ol>
                            <li>
                                <p>首先，我们需要先额外创建一个文件夹，用来存放九宫格跳转路由时用到数据的组件</p>
                                <div class="lizi">
                                    <strong>如下：</strong>
                                    <img src="image/18.png" style="width: 100%;">
                                </div>
                            </li>
                            <li>
                                <p>创建好gridlist组件后，将我们之前九宫格的view标签修改为navigator标签，添加url属性，并书写好要跳转组件的路径，并传递参数，进行导航跳转</p>
                                <div class="lizi">
                                    <strong>如下：</strong>
                                    <img src="image/19.png" style="width: 100%;">
                                </div>
                                <p>这个时候可以把左下角的选项改成页面参数，并点击九宫格的不同选项，观察变化。</p>
                                <div class="lizi">
                                    <strong>如下：</strong>
                                    <img src="image/20.png" style="width: 100%;">
                                </div>
                                <p class="beizhu">如果没有问题，则这里的参数会随着我们的点击而改变成相应的标题</p>
                            </li>
                            <li>
                                <p>我们还需要实现跳转页面的同时标题也相应改变。</p>
                                <p>这里我们需要用到微信小程序给的接口setNavigationBarTitle，那么如何调用 setNavigationBarTitle 呢？官方文档明确告诉我们调用的时机</p>
                                <ol>
                                    <li>
                                        <p>我们需要在gridlist组件的js文件中进行相关配置，通过onLoad函数，拿到传递过来的query参数，并将参数更新到data中。</p>
                                        <div class="lizi">
                                            <strong>如下：</strong>
                                            <img src="image/21.png" style="width: 100%;">
                                        </div>
                                    </li>
                                    <li>
                                        <p>在onReady函数中调用相应API，并从data拿到query的参数值，并渲染到页面</p>
                                        <div class="lizi">
                                            <strong>如下：</strong>
                                            <img src="image/22.png" style="width: 100%;">
                                        </div>
                                    </li>
                                </ol>                                
                            </li>
                            <li>
                                <p>实现了标题内容之后，接下来需要实现，在点击相关九宫格选项之后，将相应的标题下的内容进行渲染出来</p>
                                <p>根据调用接口后返回的数据，我们可以创建存放数据的列表</p>
                                <div class="lizi">
                                    <strong>如下：</strong>
                                    <img src="image/23.png" style="width: 100%;">
                                </div>
                            </li>
                            <li>
                                <p>同理，利用提供的接口，调用微信的request方法，发起get请求，拿到商品数据</p>
                                <div class="lizi">
                                    <strong>如下：</strong>
                                    <img src="image/24.png" style="width: 100%;">
                                </div>
                            </li>
                            <li>
                                <p>最后在onload（options）（监听页面加载）生命周期函数中，调用上述方法。</p>
                                <div class="lizi">
                                    <strong>如下：</strong>
                                    <img src="image/25.png" style="width: 100%;">
                                </div>
                            </li>
                            <li>
                                <p>将调用的数据渲染到页面上</p>、
                                <div class="lizi">
                                    <strong>如下：</strong>
                                    <img src="image/26.png" style="width: 100%;">
                                </div>
                            </li>
                            <li>
                                <p>添加样式</p>
                                <div class="lizi">
                                    <strong>如下：</strong>
                                    <img src="image/27.png" style="width: 100%;">
                                </div>
                                <p>到这为止，我们的九宫格功能也全部完成了，点击之后会出现一排一排的商品排列以及信息。</p>
                            </li>
                        </ol>
                    </li>
                </ol>                
            </div>
            <footer>
                <a href="index.html" title="文章作者 龙帅" class="zuozhe">龙帅</a>
            </footer>
            <hr style='background-color:#f3cece; height:1px; border:none;'>
        </article>
    </div>
</body>
</html>
